# Квартирограф

## Общий вид интерфейса
![image1](https://github.com/user-attachments/assets/8126b3c4-b1b3-4c88-9c9d-2091478cb5fb)
### Функции графического интерфейса, проприсанные в ТЗ:

1. **Изменение формы очертания здания, добавление новых точек (углов) к зданию.**
![image2](https://github.com/user-attachments/assets/d5f2bfef-29b9-4d36-ae65-8849f980614b)

2. **Добавление здания**
![image9](https://github.com/user-attachments/assets/88973f90-493d-44dc-943d-bde151f3705f)

3. **Ввод параметров каждого здания по отдельности:**
   - минимальная и максимальная площади
   - количество квартир
   - относительная площадь квартир
   - ввод количества этажей.
![image18](https://github.com/user-attachments/assets/51c19d89-5654-4d8e-84dd-11db5a1cb4f3)
> **Примечание**: Рекомендации по выбору входных параметров находятся в памятке для пользователя.

3. **Выходная таблица, соответствующая сгенерированной планировке.**
![image7](https://github.com/user-attachments/assets/c5cbde4b-0a81-46b5-b4b3-98b53c07678b)

4. **Визуализация планировки квартир с переключением этажей.**
![image5](https://github.com/user-attachments/assets/297a0ad2-9c31-47d1-a2ab-cdc925646881)
> **Примечание**: Если указано 2 или более этажей, первый этаж считается нежилым.

5. **Визуализация планировки комнат в квартирах.**
![image21](https://github.com/user-attachments/assets/ce14c2d3-1cfc-4a08-a48d-a5907e7de874)

6. **Сохранение сгенерированной планировки в формате PDF.**
![image13](https://github.com/user-attachments/assets/6cfa58c4-32dd-48f4-8a5c-437df498bd6d)
![image6](https://github.com/user-attachments/assets/61e5a2c9-5ed2-4bae-9f62-1cbe51f419cb)

### Случаи использования:

- **С автокоррекцией**:
![image15](https://github.com/user-attachments/assets/c9bec7da-4d0a-4e0e-b5d4-45785e2dd846)

- **Без автокоррекции**:
![image17](https://github.com/user-attachments/assets/eaabd6c3-34eb-4fe2-8525-dd48cce1b101)

![image14](https://github.com/user-attachments/assets/f820fa10-79db-4321-b67d-d7afbbb9bc06)
![image3](https://github.com/user-attachments/assets/d2ce32e9-c967-4a73-b5ff-1ff430b28855)

> **Примечание**: Постирочная зона встроена в ванную. Зоны гостиной и спальни разделены стеной и обозначены разными цветами. Окна ставятся только в жилые комнаты или кухни (размер окна фиксирован — 1 метр).
![image4](https://github.com/user-attachments/assets/7a9b45ba-1214-451c-9508-a96f561e5a76)

---

## Реализация модели машинного обучения

Для проекта используется обучение с подкреплением (reinforcement learning):
- **Система штрафов и поощрений**:
  - Штрафы за квартиры неправильной формы или не соответствующие условиям.
  - Поощрения за успешную генерацию объектов.

### Логи процесса обучения
![image8](https://github.com/user-attachments/assets/d86c4dcd-123e-4fc5-8b87-7aa7ef2d148b)

Модель генерирует квартиры и корректирует ошибки на основе логов.

---

## Функциональные возможности

1. **Добавление секции в здание.**
![image11](https://github.com/user-attachments/assets/c2ea642f-4f33-409e-a7ab-35e447c3c63a)

2. **Добавление лифтов и лестниц после генерации.**
![image19](https://github.com/user-attachments/assets/26b641e4-6d5b-4515-b574-38fc7695c596)

3. **Очистка всех элементов из интерфейса.**
![image10](https://github.com/user-attachments/assets/cb93562f-bdfc-457a-9e2c-65e9c1b25d5a)

4. **Повторная генерация планировки.**
![image16](https://github.com/user-attachments/assets/90e25071-11b9-4d2d-b816-a0b8aae86d2e)

5. **Вывод сообщений о нереальности планировки.**
   - Например, нельзя разместить 100 квартир на одном этаже площадью 400 кв.м.
![image20](https://github.com/user-attachments/assets/e8d356f6-d203-4b83-a392-b183862f1aca)

6. **Автокорректировка входных данных.**
   - **Слишком много квартир**: число уменьшается до допустимого минимума.
   - **Слишком мало квартир**: число увеличивается.
![image12](https://github.com/user-attachments/assets/37eeb8d1-5cc1-41e4-a29d-de3f08f16fbf)
---

## Памятка пользователя

### Распределение этажей в здании:
- Первый этаж всегда нежилой (при 2 и более этажах).

### Генерация «Мокрых зон»:
- Кухни и ванные комнаты строго друг над другом.

### Факторы, влияющие на скорость генерации:
- Количество зданий и секций.
- Площадь здания.
- Диапазон площадей квартир.

> **Примечание**: Количество этажей влияет на скорость минимально.

### Рекомендации по заданию площадей:
- Использовать реалистичные значения.
- Указывать диапазон ближе к реальным параметрам.

### Возможные ошибки и решения:

1. **Маленькие комнаты (< 1 м²):**
   - Причина: приоритет комнат с ограничениями ТЗ.
   - Решение: увеличить площадь квартир.

2. **Сообщения о снижении площади:**
   - Изменение связано с распределением квартир относительно второго этажа.
   - Решение: изменить параметры этажей, квартир, формы зданий.

---

## Рекомендации для улучшения планировок

1. Указывать площади, превышающие стандартные значения.
2. Использовать контуры зданий с прямыми углами.
3. Избегать слишком узких или квадратных форм зданий.
4. Включать функцию «Автокорректировка».

---
